<!-- Archive page, showing all articles on this site, sorted in descending order by yearï¼šhttps://yoursite/archives/ -->

<!-- last: Group articles by year, the year currently traversed -->
<!-- now: The publication year of the currently traversed article -->

<div class="container archives">
  <div class="post-list">
    <%
      var prev = -10086;// prev year
      var curr;// curr year, ever step be updated

      site.posts.sort('date', -1).each(function(item, index) {
        curr = item.date.year()
        if (curr !== prev) {
          prev = curr;
      %>
        <!-- The publication year of subsequent articles is presented -->
        <div class="content-title">
          <h2>
            <span><%- curr %></span>
          </h2>
        </div>
      <%
        }
      %>
      <div class="post-item" title="<%- item.title %>">
        <div class="time-m-d"><%- item.date.format("DD-MM") %></div>
        <div class="title">
          <a href="<%- url_for(item.path) %>">
            <% if(item.title !== "") { %>
              <span><%- item.title %></span>
            <% } else { %>
              <span>untitled</span>
            <% } %>
          </a>
        </div>
      </div>
    <%
      });
    %>
  </div>
</div>
